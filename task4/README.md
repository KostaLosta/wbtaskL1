# Завершение работы воркеров по Ctrl+C (SIGINT)

## Описание задачи
Программа запускает несколько горутин-воркеров, которые читают данные из канала.  
По нажатию Ctrl+C (SIGINT) все воркеры должны корректно завершить работу.
---
В данной реализации для завершения работы всех горутин используется `context.Context`.  
Это идиоматичный и рекомендуемый способ передачи сигналов отмены в Go.

### Почему выбран контекст?

— Cтандартный способ передачи сигналов отмены между горутинами.
— Позволяет обрабатывать отмену из разных источников (сигналы ОС, таймауты, ручная отмена).

---

## Как работает программа

1. **Создание контекста с отменой**  
   В `main` создается `context.WithCancel`, который передается всем воркерам и генератору данных.

2. **Обработка сигнала Ctrl+C**  
   Через `signal.Notify` программа ожидает SIGINT/SIGTERM.  
   При получении сигнала вызывается `cancel()`, что оповещает все горутины о необходимости завершения.

3. **Воркеры**  
   Каждый воркер в цикле обрабатывает данные из канала.  
   Если приходит сигнал отмены (`ctx.Done()`), воркер немедленно завершает работу, даже если находится в ожидании.

4. **Генератор данных**  
   Отправляет сообщения в канал, пока не получит сигнал отмены через контекст.

5. **Graceful shutdown**  
   После отмены контекста канал данных закрывается, чтобы воркеры могли корректно завершить работу.  
   Используется `WaitGroup` для ожидания завершения всех воркеров.

---

## Преимущества подхода

- **Централизованное управление завершением**: Все компоненты получают сигнал одновременно.
- **Отсутствие гонок**: Нет риска чтения из закрытого канала.
- **Легкость поддержки и расширения**: Можно добавить таймауты или другие источники отмены.
- **Корректное завершение**: Все горутины завершаются, ресурсы освобождаются.

---

## Запуск

```sh
go run main.go <количество_воркеров>
```

Пример:

```sh
go run main.go 5
```
Для завершения работы используйте Ctrl+C.

---

## Итог

Использование контекста — лучший способ для корректного завершения работы всех горутин по сигналу Ctrl+C.  
Решение полностью соответствует требованиям задачи и Go-стилю.